doctype html
head
  meta(charset='utf-8')
  meta(name='viewport' content='width=device-width, initial-scale=1')
  link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1' crossorigin='anonymous')
  title Weather App
.container
  .mx-auto(style='width: 70%;')
    .card.mx-auto(style='width: 18rem;')
      .card-body
        if messages.alert
          .alert.alert-warning(role="alert") #{messages.alert}
        form(action="/" method="get")
          h5.card-title Enter your zipcode
          .input-group.mb-3
            input.form-control(type='text' placeholder='Your zipcode' aria-label='zipcode' id="zipcode" name="zipcode")
          button.btn.btn-primary(type='submit') Enter
    .card.mx-auto(style='width: 18rem;')
      .card-body
        h5.card-title Weather in #{city}
        img(src=imgURL alt='')
        h6 Condition: #{conditions}
        h6 Temperature: #{temperature}°F
        h6 Humidity: #{humidity}%
        h6 Wind: #{speed} m/s, #{degree}°
    .card.mx-auto(style='width: 18rem;')
      .card-body
        if logged
          h5.card-title="User: " + user
          form(action="/logout" method="get")
            button.btn.btn-primary(type='submit') Log out
        else
          h5.card-title Not logged in
          form(action="/login" method="get")
            button.btn.btn-primary(type='submit') Log in
    if logged
      .card.mx-auto(style='width: 18rem;')
        .card-body
          h5.card-title Zipcodes
          form(action="/save" method="post")
            .input-group.input-group-sm.mb-3
              input.form-control(type='text' placeholder='Add/Remove Zipcode' aria-label='addZipcode' id="addZip" name="addZip")
            button.btn.btn-primary(type='submit') Save
          ul
            each val in locations
              li
                a(href="/?zipcode=" + val)= val


script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js' integrity='sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW' crossorigin='anonymous')
